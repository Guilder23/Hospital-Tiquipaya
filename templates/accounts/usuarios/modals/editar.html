<div id="modal-editar-usuario" class="modal usuario-edit" aria-hidden="true" role="dialog">
  <div class="modal-dialog">
    <header class="modal-header">
      <h2>Editar Usuario</h2>
      <button class="modal-close" data-close="modal-edit">✕</button>
    </header>

    <form id="form-edit-user" method="post">
      {% csrf_token %}

      <div class="modal-body">
        
        <!-- ========================================================= -->
        <!-- DATOS GENERALES                                           -->
        <!-- ========================================================= -->
        <h4>Datos del usuario</h4>

        <label>Nombres
          <input name="nombres" required>
        </label>

        <label>Apellido paterno
          <input name="apellido_paterno" required>
        </label>

        <label>Apellido materno
          <input name="apellido_materno">
        </label>

        <label>Usuario
          <input name="username" required>
        </label>

        <label>Correo
          <input name="correo">
        </label>

        <label>Fecha nacimiento
          <input type="date" name="fecha_nacimiento" required>
        </label>

        <label>Sexo
          <select name="sexo">
            <option value="M">Masculino</option>
            <option value="F">Femenino</option>
            <option value="O">Otro</option>
          </select>
        </label>

        <label>CI
          <input name="ci">
        </label>

        <label>Complemento
          <input name="complemento_ci">
        </label>

        <label>Expedido
          <select name="expedido">
            <option value="BN">BN</option>
            <option value="CB">CB</option>
            <option value="CH">CH</option>
            <option value="LP">LP</option>
            <option value="OR">OR</option>
            <option value="PD">PD</option>
            <option value="PT">PT</option>
            <option value="SC">SC</option>
            <option value="TJ">TJ</option>
          </select>
        </label>

        <label>Teléfono
          <input name="telefono">
        </label>

        <label>Celular
          <input name="celular">
        </label>

        <label>Dirección
          <input name="direccion">
        </label>

        <label>Rol
          <input name="tipo" readonly>
        </label>


        <!-- ========================================================= -->
        <!-- CAMPOS DE MÉDICO                                           -->
        <!-- ========================================================= -->
        <div id="edit-campos-medico" style="display:none; margin-top:1rem;">

          <h4>Datos de Médico</h4>

          <label>Especialidad
            <select name="especialidad">
              <option value="">-- Seleccione --</option>
              {% for esp in especialidades %}
              <option value="{{ esp.id }}">{{ esp.nombre }}</option>
              {% endfor %}
            </select>
          </label>

          <label>N° Matrícula
            <input type="text" name="matricula">
          </label>

          <label>Consultorio
            <input name="consultorio">
          </label>

          <h4>Turnos</h4>
          {% for turno in turnos %}
              <label>
                  <input type="checkbox"
                    name="turnos"
                    value="{{ turno.id }}"
                    id="edit-turno-med-{{ turno.id }}"
                    {% if turno.id in usuario_turnos_ids %}checked{% endif %}>
                  {{ turno.nombre }} ({{ turno.hora_ini }} - {{ turno.hora_fin }})
              </label><br>
          {% endfor %}
          <h4>Días de atención</h4>

          <label>
              <input type="checkbox" name="lunes" {% if dias and dias.lunes %}checked{% endif %}>
              Lunes
          </label>

          <label>
              <input type="checkbox" name="martes" {% if dias and dias.martes %}checked{% endif %}>
              Martes
          </label>

          <label>
              <input type="checkbox" name="miercoles" {% if dias and dias.miercoles %}checked{% endif %}>
              Miércoles
          </label>

          <label>
              <input type="checkbox" name="jueves" {% if dias and dias.jueves %}checked{% endif %}>
              Jueves
          </label>

          <label>
              <input type="checkbox" name="viernes" {% if dias and dias.viernes %}checked{% endif %}>
              Viernes
          </label>
        </div>


        <!-- ========================================================= -->
        <!-- CAMPOS DE ADMISIÓN                                         -->
        <!-- ========================================================= -->
        <div id="edit-campos-admision" style="display:none; margin-top:1rem;">

          <h4>Datos de Admisión</h4>

          <label>Ventanilla
            <input name="ventanilla">
          </label>

          <h4>Turnos</h4>
          {% for turno in turnos %}
              <label>
                  <input type="checkbox"
                    name="turnos"
                    value="{{ turno.id }}"
                    id="edit-turno-adm-{{ turno.id }}"
                    {% if turno.id in usuario_turnos_ids %}checked{% endif %}>
                  {{ turno.nombre }} ({{ turno.hora_ini }} - {{ turno.hora_fin }})
              </label><br>
          {% endfor %}
        </div>


        <!-- ========================================================= -->
        <!-- CAMPOS ENCARGADO ADMISION                                  -->
        <!-- ========================================================= -->
        <div id="edit-campos-encargado-admision" style="display:none; margin-top:1rem;">

          <h4>Encargado de Admisión</h4>

          <label>Ventanilla
            <input name="enc-ventanilla">
          </label>

          <h4>Turnos</h4>
          {% for turno in turnos %}
              <input type="checkbox"
                name="turnos"
                value="{{ turno.id }}"
                id="edit-turno-enc-{{ turno.id }}"
                {% if turno.id in usuario_turnos_ids %}checked{% endif %}>
              {{ turno.nombre }} ({{ turno.hora_ini }} - {{ turno.hora_fin }})
          {% endfor %}
        </div>

      </div>

      <footer class="modal-footer">
        <button type="button" class="btn-secondary" data-close="modal-edit">Cancelar</button>
        <button type="submit" class="btn-primary">Guardar</button>
      </footer>

    </form>
  </div>
</div>