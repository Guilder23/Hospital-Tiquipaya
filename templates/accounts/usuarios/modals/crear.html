{% extends "base.html" %}
{% block extra_css %}<link rel="stylesheet" href="/static/css/accounts/usuarios/modals/crear.css">{% endblock %}
{% block content %}
<div id="modal-crear-usuario" class="modal" aria-hidden="true" role="dialog">
  <div class="modal-dialog">
    <header class="modal-header">
      <h2>Agregar Usuario</h2>
      <button class="modal-close" data-close="modal-add">✕</button>
    </header>
    <form id="registrar" method="post" action="{% url 'accounts:register' %}">
        {% csrf_token %}
        <div class="modal-body">
            <h4>Datos del usuario</h4>
            <label>Nombres
                <input name="nombres" required>
            </label>
            <label>Apellido paterno
                <input name="apellido_paterno" required>
            </label>
            <label>Apellido materno
                <input name="apellido_materno">
            </label>
            <label>Usuario (username)
                <input name="username" required placeholder="Nombre de usuario">
            </label>
            <label>Contraseña
                <input name="password" type="password" required placeholder="Contraseña">
            </label>
            <label>CI
                <input name="ci">
            </label>
            <label>CI complemento
                <input name="complemento_ci">
            </label>
            <label>Expedido
                <select name="expedido">
                    <option value="BN">BE</option>
                    <option value="CB" selected>CB</option>
                    <option value="CH">CH</option>
                    <option value="LP">LP</option>
                    <option value="OR">OR</option>
                    <option value="PD">PD</option>
                    <option value="PT">PT</option>
                    <option value="SC">SC</option>
                    <option value="TJ">TJ</option>
                </select>
            </label>
            <label>Fecha de Nacimiento
                <input type="date" name="fecha_nacimiento" required>
            </label>
            <label>Sexo
                <select name="sexo">
                    <option value="M">Masculino</option>
                    <option value="F" selected>Femenino</option>
                    <option value="O">Otro</option>
                </select>
            </label>
            <label>Telefono fijo
                <input name="telefono">
            </label>
            <label>Celular
                <input name="celular">
            </label>
            <label>Dirección
                <input name="direccion">
            </label>
            <label>Correo Electronico
                <input name="correo">
            </label>
            <div class="form-row"><label>Rol</label>
                <select name="tipo" id="select-rol">
                <option value="">Sin rol</option>
                {% for t in tipos %}
                    <option value="{{ t.nombre|lower }}">{{ t.nombre }}</option>
                {% endfor %}
                </select>
            </div>

            <div class="campos-condicionales" id="campos-medico" style="display: none;">
                <h4>Datos del médico</h4>
                <label>Especialidad
                    <select name="especialidad">
                        <option value="">-- Seleccionar --</option>
                        {% for e in especialidades %}<option value="{{ e.id }}">{{ e.nombre }}</option>{% endfor %}
                    </select>
                </label>
                <label>Nº matrícula
                    <input name="nro_matricula" maxlength="20">
                </label>
                <label>Consultorio
                    <input name="consultorio">
                </label>
                <h4>Turnos de atención</h4>
                <label><input type="checkbox" name="madrugue"> Madrugue</label>
                <label><input type="checkbox" name="mannana"> Mañana</label>
                <label><input type="checkbox" name="tarde"> Tarde</label>
                <label><input type="checkbox" name="noche"> Noche</label>
                <h4>Días de atención</h4>
                <label><input type="checkbox" name="lunes"> Lunes</label>
                <label><input type="checkbox" name="martes"> Martes</label>
                <label><input type="checkbox" name="miercoles"> Miércoles</label>
                <label><input type="checkbox" name="jueves"> Jueves</label>
                <label><input type="checkbox" name="viernes"> Viernes</label>
            </div>
        
            <div class="campos-condicionales" id="campos-admision" style="display: none;">
                <h4>Datos de Admisión</h4>
                <label>Numero de ventanilla
                    <input name="ventanilla">
                </label>
                <h4>Turnos de atención</h4>
                <label><input type="checkbox" name="madrugue"> Madrugue</label>
                <label><input type="checkbox" name="mannana"> Mañana</label>
                <label><input type="checkbox" name="tarde"> Tarde</label>
                <label><input type="checkbox" name="noche"> Noche</label>
            </div>

            <div class="campos-condicionales" id="campos-encargado-admision" style="display: none;"> 
                <h4>Datos de Encargado de Admisión</h4>
                <label>Numero de ventanilla
                    <input name="ventanilla">
                </label>
                <h4>Turnos de atención</h4>
                <label><input type="checkbox" name="madrugue"> Madrugue</label>
                <label><input type="checkbox" name="mannana"> Mañana</label>
                <label><input type="checkbox" name="tarde"> Tarde</label>
                <label><input type="checkbox" name="noche"> Noche</label>
            </div>
        </div>
        <footer class="modal-footer">
            <button type="button" class="btn-secondary" data-close="modal-add">Cancelar</button>
            <button type="submit" class="btn-primary">Crear</button>
        </footer>
        </form>
  </div>
</div>

<script src="/static/js/accounts/usuarios/modals/crear.js"></script>
{% endblock %}